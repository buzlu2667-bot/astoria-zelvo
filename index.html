<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <link id="favicon" rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title id="page-title">ASTORIA ZELVO</title>

    <script>
      // ⭐ Sekme değişince "Seni özledik"
      const originalTitle = "ASTORIA ZELVO";
      const originalIcon = "/favicon.png";

      const hiddenTitle = "💛 Seni Özledik!";
      const hiddenIcon = "/favicon.png"; // Aynı icon veya farklı yapabiliriz

      document.addEventListener("visibilitychange", () => {
        const titleEl = document.getElementById("page-title");
        const iconEl = document.getElementById("favicon");

        if (document.hidden) {
          titleEl.textContent = hiddenTitle;
          iconEl.href = hiddenIcon; 
        } else {
          titleEl.textContent = originalTitle;
          iconEl.href = originalIcon;
        }
      });
    </script>

  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
      var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
      (function(){
      var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
      s1.async=true;
      s1.src='https://embed.tawk.to/690525e940b306194f3d8982/1j8u1o615?lang=tr';
      s1.charset='UTF-8';
      s1.setAttribute('crossorigin','*');
      s0.parentNode.insertBefore(s1,s0);
      })();
    </script>

    <script>
  const hideTawkByApi = () => {
    const modal = document.querySelector('[class*="z-[99999]"][class*="fixed"]');
    const modalOpen = modal && window.getComputedStyle(modal).display !== "none";

    // hem yazı hem widget kontrolü
    const label = document.querySelector(".canli-destek-label");

    if (window.Tawk_API && typeof window.Tawk_API.hideWidget === "function") {
      if (modalOpen) {
        Tawk_API.hideWidget(); // 🔥 chat ikonunu gizle
        if (label) label.style.display = "none"; // 💬 yazıyı da gizle
      } else {
        Tawk_API.showWidget(); // 💥 chat ikonunu geri getir
        if (label) label.style.display = "block"; // 💬 yazıyı geri getir
      }
    }
  };

  // 500ms’de bir kontrol
  setInterval(hideTawkByApi, 500);
</script>

   <!-- 💬 CANLI DESTEK YAZISI (Sol tarafta) -->
<style>
.canli-destek-label {
  position: fixed;
  bottom: 28px;
  left: 90px; /* 💥 Sağ yerine sol */
  background: linear-gradient(90deg, #f6b800, #a07600);
  color: #000;
  font-weight: 700;
  padding: 6px 14px;
  border-radius: 14px;
  font-family: "Poppins", sans-serif;
  box-shadow: 0 0 10px gold;
  font-size: 15px;
  animation: glow 1.5s infinite alternate;
  z-index: 9999999;
  transition: transform 0.3s ease, filter 0.3s ease;
}

.canli-destek-label:hover {
  transform: scale(1.08);
  filter: brightness(1.3);
}

@keyframes glow {
  from { filter: brightness(0.9); }
  to { filter: brightness(1.2); }
}
</style>

<script>
  // Sayfa yüklendiğinde butonu ekle
  window.addEventListener("load", () => {
    const label = document.createElement("div");
    label.className = "canli-destek-label";
    label.textContent = "💬 Canlı Destek";
    document.body.appendChild(label);
  });
</script>

  </body>
</html>
