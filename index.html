<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <link id="favicon" rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title id="page-title">ASTORIA ZELVO</title>

    <script>
      // ⭐ Sekme değişince "Seni özledik"
      const originalTitle = "ASTORIA ZELVO";
      const originalIcon = "/favicon.png";

      const hiddenTitle = "💛 Seni Özledik!";
      const hiddenIcon = "/favicon.png"; // Aynı icon veya farklı yapabiliriz

      document.addEventListener("visibilitychange", () => {
        const titleEl = document.getElementById("page-title");
        const iconEl = document.getElementById("favicon");

        if (document.hidden) {
          titleEl.textContent = hiddenTitle;
          iconEl.href = hiddenIcon; 
        } else {
          titleEl.textContent = originalTitle;
          iconEl.href = originalIcon;
        }
      });
    </script>


  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/690525e940b306194f3d8982/1j8u1o615';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->


<script>
  // Modal açıldığında "Canlı Destek" butonunu gizle
  const destekBtn = document.getElementById("canli-destek");

  // MutationObserver: body'deki class değişimini izler (örneğin modal-open)
  const observer = new MutationObserver(() => {
    const modalAcik = document.body.classList.contains("modal-open");
    if (destekBtn) destekBtn.style.display = modalAcik ? "none" : "flex";
  });

  observer.observe(document.body, { attributes: true, attributeFilter: ["class"] });
</script>


  <!-- 💬 CANLI DESTEK YAZISI (Sol tarafta) -->
<style>
  .canli-destek-label {
    position: fixed;
    bottom: 10px;  /* 🔹 Tawk ikonunun yüksekliği hizasında */
    left: 60px;    /* 🔹 sola aldık */
    background: linear-gradient(90deg, #f6b800, #a07600);
    color: #000;
    font-weight: 600;
    padding: 3px 8px;
    border-radius: 8px;
    font-family: "Poppins", sans-serif;
    box-shadow: 0 0 6px gold;
    font-size: 11.5px; /* 🔥 daha da küçülttük */
    animation: glow 1.5s infinite alternate;
    z-index: 9999999;
    transition: opacity 0.4s ease, transform 0.3s ease;
    opacity: 0;
    transform: translateY(8px);
  }

  .canli-destek-label.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .canli-destek-label:hover {
    transform: scale(1.05);
    filter: brightness(1.3);
  }

  @keyframes glow {
    from { filter: brightness(0.9); }
    to { filter: brightness(1.15); }
  }
</style>



<script>
  window.addEventListener("load", () => {
    // 💬 Canlı destek etiketi oluştur
    const label = document.createElement("div");
    label.className = "canli-destek-label";
    label.textContent = "💬 Canlı Destek";
    document.body.appendChild(label);

    // Fade-in animasyonu
    setTimeout(() => label.classList.add("visible"), 100);

  // Modal açık mı kontrol et (fade animasyonlu Tawk gizleme)
const kontrolEt = () => {
  const modal = document.querySelector('.fixed.inset-0.bg-black\\/80');
  const modalAcik = modal && window.getComputedStyle(modal).display !== "none";

  // 💬 Bizim etiket fade animasyonu
  if (modalAcik) {
    label.style.opacity = "0";
    label.style.transform = "translateY(6px)";
  } else {
    label.style.display = "flex";
    setTimeout(() => {
      label.style.opacity = "1";
      label.style.transform = "translateY(0)";
    }, 100);
  }

  // 💬 Tawk widget (fade-out / fade-in)
  const tawkWidget = document.querySelector("iframe[title='chat widget']") || document.querySelector("iframe[src*='tawk.to']");
  if (tawkWidget) {
    if (modalAcik) {
      tawkWidget.style.transition = "opacity 0.4s ease";
      tawkWidget.style.opacity = "0";
      setTimeout(() => (tawkWidget.style.display = "none"), 400);
    } else {
      tawkWidget.style.display = "block";
      tawkWidget.style.transition = "opacity 0.4s ease";
      setTimeout(() => (tawkWidget.style.opacity = "1"), 50);
    }
  }
};



    // Düzenli kontrol
    setInterval(kontrolEt, 200);
  });
</script>




  </body>
</html>
